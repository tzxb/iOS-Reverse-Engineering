<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible"content="IE=edge"><meta name="viewport"content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><title>抽奖</title><meta name="description"content="抽奖"><meta name="format-detection"content="telephone=no"><style>img,legend{border:0}button,legend,td,th,ul{padding:0}body,ul{margin:0}a:active,a:hover,button:focus{outline:0}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{color:#fff;min-width:320px;background:rgba(0,0,0,0)}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{background:#fff}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(255,255,255,0)}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em.625em.75em}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}li{list-style:none}.mt52{margin-top:.8125rem}.mt40{margin-top:.625rem}.mt28{margin-top:.4375rem}.none{display:none!important}.hidden{visibility:hidden}.m-opacity-panel{position:relative;padding-top:.421875rem}.m-opacity-panel.title-wrap{width:100%;position:absolute;top:0;left:0;text-align:center;font-size:0}.m-opacity-panel.decorate-wrap,.m-opacity-panel.title-box{display:inline-block;min-width:3.59375rem;height:.78125rem;position:relative;font-size:0}.m-opacity-panel.title-box{line-height:.78125rem;padding:0.46875rem;overflow:hidden}.m-opacity-panel.title-box:after,.m-opacity-panel.title-box:before{content:'';display:block;border-color:transparent;width:2px;height:0;font-size:0;border-style:solid;position:absolute;overflow-y:hidden}.m-opacity-panel.title-box:after{border-width:.8125rem.484375rem 0 0;border-top-color:#ffe753;top:0;right:0}.m-opacity-panel.title-box:before{border-width:0 0.8125rem.484375rem;border-bottom-color:#ffe753;left:0;top:-.0234375rem}.m-opacity-panel.decorate-left,.m-opacity-panel.decorate-right{content:'';width:0;height:0;display:inline-block;font-size:0;border-style:solid;border-color:transparent;position:absolute}.m-opacity-panel.decorate-right{border-width:.546875rem.25rem 0 0;border-top-color:#ffe753;top:.15625rem;right:-.15625rem;-webkit-transform:rotate(30deg);transform:rotate(30deg)}.m-opacity-panel.decorate-left{border-width:0 0.546875rem.25rem;border-bottom-color:#ffe753;top:0;left:-.125rem;-webkit-transform:rotate(30deg);transform:rotate(30deg)}.m-info.num,.m-lucky-list.slide{-webkit-transform:translate3d(0,0,0)}.m-opacity-panel.title{background:#ffe753;display:inline-block;font-size:.4375rem;color:#f91f38;width:100%;height:100%}.m-opacity-panel.inner-wrap{margin:0 auto;padding-top:.359375rem;border-radius:.1875rem;background:rgba(0,0,0,.102);width:9.234375rem;min-height:3.359375rem}.m-opacity-panel.content{width:100%;height:100%;padding-bottom:.484375rem}@font-face{font-family:icomoon;src:url(http:<script>(function(){var fontEl=null;window.addEventListener('resize',initRem,false);initRem();function initRem(){var dpr,rem,scale;var docEl=document.documentElement;if(!fontEl){fontEl=document.createElement('style');docEl.firstElementChild.appendChild(fontEl)}var metaEl=document.querySelector('meta[name="viewport"]');dpr=1;scale=1/dpr;rem=docEl.clientWidth*dpr/10;rem=rem>64?64:rem;docEl.setAttribute('data-dpr',dpr);fontEl.innerHTML='html{font-size:'+rem+'px!important;}';window.rem2px=function(v){v=parseFloat(v);return v*rem}window.px2rem=function(v){v=parseFloat(v);return v/rem};window.dpr=dpr;window.rem=rem}})();</script></head><body><div class="js-all-style"></div><div class="container js-container hidden"><div class="m-banner js-banner none"><div class="inner-wrap"><img class="banner-pic js-banner-pic"src="#"alt="banner"><div class="filter js-banner-filter"></div></div></div><div class="m-info"><div class="time-wrap"><span class="txt-bg time js-time-section">活动时间：7月25日-9月30日</span></div><div class="person-count-wrap"><span class="txt-bg person-count js-num-title">参与人数</span></div><div class="js-num-section"></div></div><div class="m-draw-lottery mt52"><div class="lottery-pane-wrap"><div class="lottery-pane"><div class="content"><div class="head-spec"></div><div class="lottery-inner-pane"><div class="inner-wrap js-tiger-game"></div></div><div class="light js-light-run"></div></div><div class="footer"><div class="button-wrap"><button type="button"class="js-do-draw">立即抽奖</button><div class="button-mask js-button-mask none"></div></div></div></div></div></div><div class="js-lucky-list-position-up"></div><div class="m-rule-and-desc js-rule-and-desc"><div class="m-desc mt40"><div class="m-opacity-panel"><div class="title-wrap"><div class="decorate-wrap"><div class="title-box"><span class="title">活动介绍</span></div><i class="decorate-left"></i><i class="decorate-right"></i></div></div><div class="inner-wrap"><div class="content"><p class="js-desc"></p></div></div></div></div><div class="m-rule mt40"><div class="m-opacity-panel"><div class="title-wrap"><div class="decorate-wrap"><div class="title-box"><span class="title">活动规则</span></div><i class="decorate-left"></i><i class="decorate-right"></i></div></div><div class="inner-wrap"><div class="content"><div class="rule-wrap js-rule"></div></div></div></div></div></div><div class="js-lucky-list-position-down"><div class="m-lucky-list mt28 js-m-lucky-list"><div class="content-wrap"><div class="my-awards-wrap"><button class="btn-my-awards js-btn-winner none"><i class="icon icon-gift"></i><span class="txt">我的奖品</span></button></div><div class="m-opacity-panel"><div class="title-wrap"><div class="decorate-wrap"><div class="title-box"><span class="title">中奖名单</span></div><i class="decorate-left"></i><i class="decorate-right"></i></div></div><div class="inner-wrap"><div class="content js-lucky-list"><!--<p class="txt-none none">暂无中奖用户</p><div class="slide-wrap js-slide-wrap"><ul class="slide js-lucky-slide"><li class="group js-group"><ul class="list"><li class="item"><span class="txt-wrap"><span class="user-name">hehe若雪的蔷薇</span>获得<span class="goods-name">保温水杯</span>一个</span><span class="date">25小时前</span></li><li class="item"><span class="txt-wrap"><span class="user-name">若雪的蔷薇</span>获得<span class="goods-name">保温水杯</span>一个</span><span class="date">25小时前</span></li><li class="item"><span class="txt-wrap"><span class="user-name">若雪的蔷薇</span>获得<span class="goods-name">保温水杯</span>一个</span><span class="date">25小时前</span></li></ul></li></ul></div>--></div></div></div></div></div></div></div><div class="js-status-mask m-status-mask none"></div><script>(function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===a&&(Array.prototype.reduce=function(b){if(this===void 0||this===null)throw new TypeError;var c=Object(this),d=c.length>>>0,e=0,f;if(typeof b!="function")throw new TypeError;if(d==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)f=arguments[1];else do{if(e in c){f=c[e++];break}if(++e>=d)throw new TypeError}while(!0);while(e<d)e in c&&(f=b.call(a,f,c[e],e,c)),e++;return f})})();var Zepto=function(){function A(a){return v.call(a)=="[object Function]"}function B(a){return a instanceof Object}function C(b){var c,d;if(v.call(b)!=="[object Object]")return!1;d=A(b.constructor)&&b.constructor.prototype;if(!d||!hasOwnProperty.call(d,"isPrototypeOf"))return!1;for(c in b);return c===a||hasOwnProperty.call(b,c)}function D(a){return a instanceof Array}function E(a){return typeof a.length=="number"}function F(b){return b.filter(function(b){return b!==a&&b!==null})}function G(a){return a.length>0?[].concat.apply([],a):a}function H(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function I(a){return a in i?i[a]:i[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function J(a,b){return typeof b=="number"&&!k[H(a)]?b+"px":b}function K(a){var b,c;return h[a]||(b=g.createElement(a),g.body.appendChild(b),c=j(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),c=="none"&&(c="block"),h[a]=c),h[a]}function L(b,d){return d===a?c(b):c(b).filter(d)}function M(a,b,c,d){return A(b)?b.call(a,c,d):b}function N(a,b,d){var e=a%2?b:b.parentNode;e?e.insertBefore(d,a?a==1?e.firstChild:a==2?b:null:b.nextSibling):c(d).remove()}function O(a,b){b(a);for(var c in a.childNodes)O(a.childNodes[c],b)}var a,b,c,d,e=[],f=e.slice,g=window.document,h={},i={},j=g.defaultView.getComputedStyle,k={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},l=/^\s*<(\w+|!)[^>]*>/,m=[1,3,8,9,11],n=["after","prepend","before","append"],o=g.createElement("table"),p=g.createElement("tr"),q={tr:g.createElement("tbody"),tbody:o,thead:o,tfoot:o,td:p,th:p,"*":g.createElement("div")},r=/complete|loaded|interactive/,s=/^\.([\w-]+)$/,t=/^#([\w-]+)$/,u=/^[\w-]+$/,v={}.toString,w={},x,y,z=g.createElement("div");return w.matches=function(a,b){if(!a||a.nodeType!==1)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=z).appendChild(a),d=~w.qsa(e,b).indexOf(a),f&&z.removeChild(a),d},x=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},y=function(a){return a.filter(function(b,c){return a.indexOf(b)==c})},w.fragment=function(b,d){d===a&&(d=l.test(b)&&RegExp.$1),d in q||(d="*");var e=q[d];return e.innerHTML=""+b,c.each(f.call(e.childNodes),function(){e.removeChild(this)})},w.Z=function(a,b){return a=a||[],a.__proto__=arguments.callee.prototype,a.selector=b||"",a},w.isZ=function(a){return a instanceof w.Z},w.init=function(b,d){if(!b)return w.Z();if(A(b))return c(g).ready(b);if(w.isZ(b))return b;var e;if(D(b))e=F(b);else if(C(b))e=[c.extend({},b)],b=null;else if(m.indexOf(b.nodeType)>=0||b===window)e=[b],b=null;else if(l.test(b))e=w.fragment(b.trim(),RegExp.$1),b=null;else{if(d!==a)return c(d).find(b);e=w.qsa(g,b)}return w.Z(e,b)},c=function(a,b){return w.init(a,b)},c.extend=function(c){return f.call(arguments,1).forEach(function(d){for(b in d)d[b]!==a&&(c[b]=d[b])}),c},w.qsa=function(a,b){var c;return a===g&&t.test(b)?(c=a.getElementById(RegExp.$1))?[c]:e:a.nodeType!==1&&a.nodeType!==9?e:f.call(s.test(b)?a.getElementsByClassName(RegExp.$1):u.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},c.isFunction=A,c.isObject=B,c.isArray=D,c.isPlainObject=C,c.inArray=function(a,b,c){return e.indexOf.call(b,a,c)},c.trim=function(a){return a.trim()},c.uuid=0,c.map=function(a,b){var c,d=[],e,f;if(E(a))for(e=0;e<a.length;e++)c=b(a[e],e),c!=null&&d.push(c);else for(f in a)c=b(a[f],f),c!=null&&d.push(c);return G(d)},c.each=function(a,b){var c,d;if(E(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},c.fn={forEach:e.forEach,reduce:e.reduce,push:e.push,indexOf:e.indexOf,concat:e.concat,map:function(a){return c.map(this,function(b,c){return a.call(b,c,b)})},slice:function(){return c(f.apply(this,arguments))},ready:function(a){return r.test(g.readyState)?a(c):g.addEventListener("DOMContentLoaded",function(){a(c)},!1),this},get:function(b){return b===a?f.call(this):this[b]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(a){return this.forEach(function(b,c){a.call(b,c,b)}),this},filter:function(a){return c([].filter.call(this,function(b){return w.matches(b,a)}))},add:function(a,b){return c(y(this.concat(c(a,b))))},is:function(a){return this.length>0&&w.matches(this[0],a)},not:function(b){var d=[];if(A(b)&&b.call!==a)this.each(function(a){b.call(this,a)||d.push(this)});else{var e=typeof b=="string"?this.filter(b):E(b)&&A(b.item)?f.call(b):c(b);this.forEach(function(a){e.indexOf(a)<0&&d.push(a)})}return c(d)},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!B(a)?a:c(a)},last:function(){var a=this[this.length-1];return a&&!B(a)?a:c(a)},find:function(a){var b;return this.length==1?b=w.qsa(this[0],a):b=this.map(function(){return w.qsa(this,a)}),c(b)},closest:function(a,b){var d=this[0];while(d&&!w.matches(d,a))d=d!==b&&d!==g&&d.parentNode;return c(d)},parents:function(a){var b=[],d=this;while(d.length>0)d=c.map(d,function(a){if((a=a.parentNode)&&a!==g&&b.indexOf(a)<0)return b.push(a),a});return L(b,a)},parent:function(a){return L(y(this.pluck("parentNode")),a)},children:function(a){return L(this.map(function(){return f.call(this.children)}),a)},siblings:function(a){return L(this.map(function(a,b){return f.call(b.parentNode.children).filter(function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(){return this[a]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),j(this,"").getPropertyValue("display")=="none"&&(this.style.display=K(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return this.each(function(){c(this).wrapAll(c(a)[0].cloneNode(!1))})},wrapAll:function(a){return this[0]&&(c(this[0]).before(a=c(a)),a.append(this)),this},unwrap:function(){return this.parent().each(function(){c(this).replaceWith(c(this).children())}),this},clone:function(){return c(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(b){return(b===a?this.css("display")=="none":b)?this.show():this.hide()},prev:function(){return c(this.pluck("previousElementSibling"))},next:function(){return c(this.pluck("nextElementSibling"))},html:function(b){return b===a?this.length>0?this[0].innerHTML:null:this.each(function(a){var d=this.innerHTML;c(this).empty().append(M(this,b,a,d))})},text:function(b){return b===a?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=b})},attr:function(c,d){var e;return typeof c=="string"&&d===a?this.length==0||this[0].nodeType!==1?a:c=="value"&&this[0].nodeName=="INPUT"?this.val():!(e=this[0].getAttribute(c))&&c in this[0]?this[0][c]:e:this.each(function(a){if(this.nodeType!==1)return;if(B(c))for(b in c)this.setAttribute(b,c[b]);else this.setAttribute(c,M(this,d,a,this.getAttribute(c)))})},removeAttr:function(a){return this.each(function(){this.nodeType===1&&this.removeAttribute(a)})},prop:function(b,c){return c===a?this[0]?this[0][b]:a:this.each(function(a){this[b]=M(this,c,a,this[b])})},data:function(b,c){var d=this.attr("data-"+H(b),c);return d!==null?d:a},val:function(b){return b===a?this.length>0?this[0].value:a:this.each(function(a){this.value=M(this,b,a,this.value)})},offset:function(){if(this.length==0)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(c,d){if(d===a&&typeof c=="string")return this.length==0?a:this[0].style[x(c)]||j(this[0],"").getPropertyValue(c);var e="";for(b in c)typeof c[b]=="string"&&c[b]==""?this.each(function(){this.style.removeProperty(H(b))}):e+=H(b)+":"+J(b,c[b])+";";return typeof c=="string"&&(d==""?this.each(function(){this.style.removeProperty(H(c))}):e=H(c)+":"+J(c,d)),this.each(function(){this.style.cssText+=";"+e})},index:function(a){return a?this.indexOf(c(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return this.length<1?!1:I(a).test(this[0].className)},addClass:function(a){return this.each(function(b){d=[];var e=this.className,f=M(this,a,b,e);f.split(/\s+/g).forEach(function(a){c(this).hasClass(a)||d.push(a)},this),d.length&&(this.className+=(e?" ":"")+d.join(" "))})},removeClass:function(b){return this.each(function(c){if(b===a)return this.className="";d=this.className,M(this,b,c,d).split(/\s+/g).forEach(function(a){d=d.replace(I(a)," ")}),this.className=d.trim()})},toggleClass:function(b,d){return this.each(function(e){var f=M(this,b,e,this.className);(d===a?!c(this).hasClass(f):d)?c(this).addClass(f):c(this).removeClass(f)})}},["width","height"].forEach(function(b){c.fn[b]=function(d){var e,f=b.replace(/./,function(a){return a[0].toUpperCase()});return d===a?this[0]==window?window["inner"+f]:this[0]==g?g.documentElement["offset"+f]:(e=this.offset())&&e[b]:this.each(function(a){var e=c(this);e.css(b,M(this,d,a,e[b]()))})}}),n.forEach(function(a,b){c.fn[a]=function(){var a=c.map(arguments,function(a){return B(a)?a:w.fragment(a)});if(a.length<1)return this;var d=this.length,e=d>1,f=b<2;return this.each(function(c,g){for(var h=0;h<a.length;h++){var i=a[f?a.length-h-1:h];O(i,function(a){a.nodeName!=null&&a.nodeName.toUpperCase()==="SCRIPT"&&(!a.type||a.type==="text/javascript")&&window.eval.call(window,a.innerHTML)}),e&&c<d-1&&(i=i.cloneNode(!0)),N(b,g,i)}})},c.fn[b%2?a+"To":"insert"+(b?"Before":"After")]=function(b){return c(b)[a](this),this}}),w.Z.prototype=c.fn,w.camelize=x,w.uniq=y,c.zepto=w,c}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(a){function f(a){return a._zid||(a._zid=d++)}function g(a,b,d,e){b=h(b);if(b.ns)var g=i(b.ns);return(c[f(a)]||[]).filter(function(a){return a&&(!b.e||a.e==b.e)&&(!b.ns||g.test(a.ns))&&(!d||f(a.fn)===f(d))&&(!e||a.sel==e)})}function h(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function i(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function j(b,c,d){a.isObject(b)?a.each(b,d):b.split(/\s/).forEach(function(a){d(a,c)})}function k(b,d,e,g,i,k){k=!!k;var l=f(b),m=c[l]||(c[l]=[]);j(d,e,function(c,d){var e=i&&i(d,c),f=e||d,j=function(a){var c=f.apply(b,[a].concat(a.data));return c===!1&&a.preventDefault(),c},l=a.extend(h(c),{fn:d,proxy:j,sel:g,del:e,i:m.length});m.push(l),b.addEventListener(l.e,j,k)})}function l(a,b,d,e){var h=f(a);j(b||"",d,function(b,d){g(a,b,d,e).forEach(function(b){delete c[h][b.i],a.removeEventListener(b.e,b.proxy,!1)})})}function p(b){var c=a.extend({originalEvent:b},b);return a.each(o,function(a,d){c[a]=function(){return this[d]=m,b[a].apply(b,arguments)},c[d]=n}),c}function q(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}}}var b=a.zepto.qsa,c={},d=1,e={};e.click=e.mousedown=e.mouseup=e.mousemove="MouseEvents",a.event={add:k,remove:l},a.proxy=function(b,c){if(a.isFunction(b)){var d=function(){return b.apply(c,arguments)};return d._zid=f(b),d}if(typeof c=="string")return a.proxy(b[c],b);throw new TypeError("expected function")},a.fn.bind=function(a,b){return this.each(function(){k(this,a,b)})},a.fn.unbind=function(a,b){return this.each(function(){l(this,a,b)})},a.fn.one=function(a,b){return this.each(function(c,d){k(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return l(d,b,a),c}})})};var m=function(){return!0},n=function(){return!1},o={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(b,c,d){var e=!1;if(c=="blur"||c=="focus")a.iswebkit?c=c=="blur"?"focusout":c=="focus"?"focusin":c:e=!0;return this.each(function(f,g){k(g,c,d,b,function(c){return function(d){var e,f=a(d.target).closest(b,g).get(0);if(f)return e=a.extend(p(d),{currentTarget:f,liveFired:g}),c.apply(f,[e].concat([].slice.call(arguments,1)))}},e)})},a.fn.undelegate=function(a,b,c){return this.each(function(){l(this,b,c,a)})},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d){return c==undefined||a.isFunction(c)?this.bind(b,c):this.delegate(c,b,d)},a.fn.off=function(b,c,d){return c==undefined||a.isFunction(c)?this.unbind(b,c):this.undelegate(c,b,d)},a.fn.trigger=function(b,c){return typeof b=="string"&&(b=a.Event(b)),q(b),b.data=c,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})},a.fn.triggerHandler=function(b,c){var d,e;return this.each(function(f,h){d=p(typeof b=="string"?a.Event(b):b),d.data=c,d.target=h,a.each(g(h,b.type||b),function(a,b){e=b.proxy(d);if(d.isImmediatePropagationStopped())return!1})}),e},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){if(a)this.bind(b,a);else if(this.length)try{this.get(0)[b]()}catch(c){}return this}}),a.Event=function(a,b){var c=document.createEvent(e[a]||"Events"),d=!0;if(b)for(var f in b)f=="bubbles"?d=!!b[f]:c[f]=b[f];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c}}(Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/WebKit\/([\d.]+)/),e=a.match(/(Android)\s+([\d.]+)/),f=a.match(/(iPad).*OS\s([\d_]+)/),g=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),h=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),i=h&&a.match(/TouchPad/),j=a.match(/Kindle\/([\d.]+)/),k=a.match(/Silk\/([\d._]+)/),l=a.match(/(BlackBerry).*Version\/([\d.]+)/);if(c.webkit=!!d)c.version=d[1];e&&(b.android=!0,b.version=e[2]),g&&(b.ios=b.iphone=!0,b.version=g[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),h&&(b.webos=!0,b.version=h[2]),i&&(b.touchpad=!0),l&&(b.blackberry=!0,b.version=l[2]),j&&(b.kindle=!0,b.version=j[1]),k&&(c.silk=!0,c.version=k[1]),!k&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0)}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a,b){function l(a){return a.toLowerCase()}function m(a){return d?d+a:l(a)}var c="",d,e,f,g={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},h=window.document,i=h.createElement("div"),j=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,k={};a.each(g,function(a,e){if(i.style[a+"TransitionProperty"]!==b)return c="-"+l(a)+"-",d=e,!1}),k[c+"transition-property"]=k[c+"transition-duration"]=k[c+"transition-timing-function"]=k[c+"animation-name"]=k[c+"animation-duration"]="",a.fx={off:d===b&&i.style.transitionProperty===b,cssPrefix:c,transitionEnd:m("TransitionEnd"),animationEnd:m("AnimationEnd")},a.fn.animate=function(b,c,d,e){return a.isObject(c)&&(d=c.easing,e=c.complete,c=c.duration),c&&(c/=1e3),this.anim(b,c,d,e)},a.fn.anim=function(d,e,f,g){var h,i={},l,m=this,n,o=a.fx.transitionEnd;e===b&&(e=.4),a.fx.off&&(e=0);if(typeof d=="string")i[c+"animation-name"]=d,i[c+"animation-duration"]=e+"s",o=a.fx.animationEnd;else{for(l in d)j.test(l)?(h||(h=[]),h.push(l+"("+d[l]+")")):i[l]=d[l];h&&(i[c+"transform"]=h.join(" ")),!a.fx.off&&typeof d=="object"&&(i[c+"transition-property"]=Object.keys(d).join(", "),i[c+"transition-duration"]=e+"s",i[c+"transition-timing-function"]=f||"linear")}return n=function(b){if(typeof b!="undefined"){if(b.target!==b.currentTarget)return;a(b.target).unbind(o,arguments.callee)}a(this).css(k),g&&g.call(this)},e>0&&this.bind(o,n),setTimeout(function(){m.css(i),e<=0&&setTimeout(function(){m.each(function(){n.call(this)})},0)},0),this},i=null}(Zepto),function($){function triggerAndReturn(a,b,c){var d=$.Event(b);return $(a).trigger(d,c),!d.defaultPrevented}function triggerGlobal(a,b,c,d){if(a.global)return triggerAndReturn(b||document,c,d)}function ajaxStart(a){a.global&&$.active++===0&&triggerGlobal(a,null,"ajaxStart")}function ajaxStop(a){a.global&&!--$.active&&triggerGlobal(a,null,"ajaxStop")}function ajaxBeforeSend(a,b){var c=b.context;if(b.beforeSend.call(c,a,b)===!1||triggerGlobal(b,c,"ajaxBeforeSend",[a,b])===!1)return!1;triggerGlobal(b,c,"ajaxSend",[a,b])}function ajaxSuccess(a,b,c){var d=c.context,e="success";c.success.call(d,a,e,b),triggerGlobal(c,d,"ajaxSuccess",[b,c,a]),ajaxComplete(e,b,c)}function ajaxError(a,b,c,d){var e=d.context;d.error.call(e,c,b,a),triggerGlobal(d,e,"ajaxError",[c,d,a]),ajaxComplete(b,c,d)}function ajaxComplete(a,b,c){var d=c.context;c.complete.call(d,b,a),triggerGlobal(c,d,"ajaxComplete",[b,c]),ajaxStop(c)}function empty(){}function mimeToDataType(a){return a&&(a==htmlType?"html":a==jsonType?"json":scriptTypeRE.test(a)?"script":xmlTypeRE.test(a)&&"xml")||"text"}function appendQuery(a,b){return(a+"&"+b).replace(/[&?]{1,2}/,"?")}function serializeData(a){isObject(a.data)&&(a.data=$.param(a.data)),a.data&&(!a.type||a.type.toUpperCase()=="GET")&&(a.url=appendQuery(a.url,a.data))}function serialize(a,b,c,d){var e=$.isArray(b);$.each(b,function(b,f){d&&(b=c?d:d+"["+(e?"":b)+"]"),!d&&e?a.add(f.name,f.value):(c?$.isArray(f):isObject(f))?serialize(a,f,c,b):a.add(b,f)})}var jsonpID=0,isObject=$.isObject,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;$.active=0,$.ajaxJSONP=function(a){var b="jsonp"+ ++jsonpID,c=document.createElement("script"),d=function(){$(c).remove(),b in window&&(window[b]=empty),ajaxComplete("abort",e,a)},e={abort:d},f;return a.error&&(c.onerror=function(){e.abort(),a.error()}),window[b]=function(d){clearTimeout(f),$(c).remove(),delete window[b],ajaxSuccess(d,e,a)},serializeData(a),c.src=a.url.replace(/=\?/,"="+b),$("head").append(c),a.timeout>0&&(f=setTimeout(function(){e.abort(),ajaxComplete("timeout",e,a)},a.timeout)),e},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0},$.ajax=function(options){var settings=$.extend({},options||{});for(key in $.ajaxSettings)settings[key]===undefined&&(settings[key]=$.ajaxSettings[key]);ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host);var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder)return hasPlaceholder||(settings.url=appendQuery(settings.url,"callback=?")),$.ajaxJSONP(settings);settings.url||(settings.url=window.location.toString()),serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=$.ajaxSettings.xhr(),abortTimeout;settings.crossDomain||(baseHeaders["X-Requested-With"]="XMLHttpRequest"),mime&&(baseHeaders.Accept=mime,mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime));if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=$.extend(baseHeaders,settings.headers||{}),xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type")),result=xhr.responseText;try{dataType=="script"?(1,eval)(result):dataType=="xml"?result=xhr.responseXML:dataType=="json"&&(result=blankRE.test(result)?null:JSON.parse(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings):ajaxSuccess(result,xhr,settings)}else ajaxError(null,"error",xhr,settings)}};var async="async"in settings?settings.async:!0;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);return ajaxBeforeSend(xhr,settings)===!1?(xhr.abort(),!1):(settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr)},$.get=function(a,b){return $.ajax({url:a,success:b})},$.post=function(a,b,c,d){return $.isFunction(b)&&(d=d||c,c=b,b=null),$.ajax({type:"POST",url:a,data:b,success:c,dataType:d})},$.getJSON=function(a,b){return $.ajax({url:a,success:b,dataType:"json"})},$.fn.load=function(a,b){if(!this.length)return this;var c=this,d=a.split(/\s/),e;return d.length>1&&(a=d[0],e=d[1]),$.get(a,function(a){c.html(e?$(document.createElement("div")).html(a.replace(rscript,"")).find(e).html():a),b&&b.call(c)}),this};var escape=encodeURIComponent;$.param=function(a,b){var c=[];return c.add=function(a,b){this.push(escape(a)+"="+escape(b))},serialize(c,a,b),c.join("&").replace("%20","+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b=[],c;return a(Array.prototype.slice.call(this.get(0).elements)).each(function(){c=a(this);var d=c.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&d!="submit"&&d!="reset"&&d!="button"&&(d!="radio"&&d!="checkbox"||this.checked)&&b.push({name:c.attr("name"),value:c.val()})}),b},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(a){function d(a){return"tagName"in a?a:a.parentNode}function e(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function h(){g=null,b.last&&(b.el.trigger("longTap"),b={})}function i(){g&&clearTimeout(g),g=null}var b={},c,f=750,g;a(document).ready(function(){var j,k;a(document.body).bind("touchstart",function(e){j=Date.now(),k=j-(b.last||j),b.el=a(d(e.touches[0].target)),c&&clearTimeout(c),b.x1=e.touches[0].pageX,b.y1=e.touches[0].pageY,k>0&&k<=250&&(b.isDoubleTap=!0),b.last=j,g=setTimeout(h,f)}).bind("touchmove",function(a){i(),b.x2=a.touches[0].pageX,b.y2=a.touches[0].pageY}).bind("touchend",function(a){i(),b.isDoubleTap?(b.el.trigger("doubleTap"),b={}):b.x2&&Math.abs(b.x1-b.x2)>30||b.y2&&Math.abs(b.y1-b.y2)>30?(b.el.trigger("swipe")&&b.el.trigger("swipe"+e(b.x1,b.x2,b.y1,b.y2)),b={}):"last"in b&&(b.el.trigger("tap"),c=setTimeout(function(){c=null,b.el.trigger("singleTap"),b={}},250))}).bind("touchcancel",function(){c&&clearTimeout(c),g&&clearTimeout(g),g=c=null,b={}})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(Zepto);</script><script>!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){return e?setImmediate(a):setTimeout(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.asap=d;var e="function"==typeof setImmediate},{}],2:[function(a,b,c){"use strict";var d=a("./promise");!function(a){function b(a){return a.replace(/^\w/,function(a){return a.toUpperCase()})}function c(b,c,e,f){return a.TiebaJsBridge&&"complete"===a.TiebaJsBridge.readyState?a.TiebaJsBridge.call(b,c,e,f):d.Promise.reject(h)}function e(a,b,d){return function(e){return c(a,b,e,d)}}function f(a){return function(b){var d=[];for(var e in b)d[d.length]=e+"="+encodeURIComponent(b[e]);return c("TBHY_COMMON_Navigator","toNativePage",{url:"tieba://"+a.toLowerCase()+"?"+d.join("&")})}}var g={TBHY_COMMON_Share:{share:{timeout:1e3}},TBHY_COMMON_Dialog:{alert:{},toast:{}},TBHY_COMMON_Clipboard:{copy:{}}},h=new Error("Bridge not avaliable"),i={ready:function(){return new d.Promise(function(b,c){var d=function(){"complete"===a.TiebaJsBridge.readyState?b():c()};a.TiebaJsBridge?d():a.document.addEventListener("TiebaJsBridgeReady",function(){a.TiebaJsBridge?d():c()},!1)})},call:c,toNativePage:function(a,b){return c("TBHY_COMMON_Navigator","toNativePage",{url:a},b)},register:function(){return a.TiebaJsBridge&&"complete"===a.TiebaJsBridge.readyState?a.TiebaJsBridge.register.apply(a.TiebaJsBridge,arguments):d.Promise.reject(h)},system:{version:function(){return a.TiebaJsBridge&&"complete"===a.TiebaJsBridge.readyState?a.TiebaJsBridge.system.version():d.Promise.reject(h)},platform:function(){return a.TiebaJsBridge&&"complete"===a.TiebaJsBridge.readyState?a.TiebaJsBridge.system.platform():d.Promise.reject(h)}}};for(var j in g){var k=g[j];i[j]=i[j]||{};for(var l in k)i[j][l]=e(j,l,k[l].timeout)}var m=["frs","pb","person"];i.TBHY_COMMON_Navigator={},m.forEach(function(a){i.TBHY_COMMON_Navigator["to"+b(a)+"Page"]=f(a)}),a.tb=i}(window)},{"./promise":3}],3:[function(a,b,c){"use strict";function d(){}function e(a){try{return a.then}catch(b){return s=b,t}}function f(a,b){try{return a(b)}catch(c){return s=c,t}}function g(a,b,c){try{a(b,c)}catch(d){return s=d,t}}function h(a){if("object"!==q(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._value=null,this._deferreds=[],a!==d&&o(a,this)}function i(a,b,c){return new a.constructor(function(e,f){var g=new h(d);g.then(e,f),j(a,new n(b,c,g))})}function j(a,b){for(;3===a._state;)a=a._value;return 0===a._state?void a._deferreds.push(b):void(0,r.asap)(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?k(b.promise,a._value):l(b.promise,a._value));var d=f(c,a._value);d===t?l(b.promise,s):k(b.promise,d)})}function k(a,b){if(b===a)return l(a,new TypeError("A promise cannot be resolved with itself."));if(b&&("object"===("undefined"==typeof b?"undefined":q(b))||"function"==typeof b)){var c=e(b);if(c===t)return l(a,s);if(c===a.then&&b instanceof h)return a._state=3,a._value=b,void m(a);if("function"==typeof c)return void o(c.bind(b),a)}a._state=1,a._value=b,m(a)}function l(a,b){a._state=2,a._value=b,m(a)}function m(a){for(var b=0;b<a._deferreds.length;b++)j(a,a._deferreds[b]);a._deferreds=null}function n(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function o(a,b){var c=!1,d=g(a,function(a){c||(c=!0,k(b,a))},function(a){c||(c=!0,l(b,a))});c||d!==t||(c=!0,l(b,s))}function p(a){var b=new h(h._noop);return b._state=1,b._value=a,b}var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};Object.defineProperty(c,"__esModule",{value:!0}),c.Promise=h;var r=a("./asap"),s=null,t={};h._noop=d,h.prototype.then=function(a,b){if(this.constructor!==h)return i(this,a,b);var c=new h(d);return j(this,new n(a,b,c)),c},h.prototype["catch"]=function(a){return this.then(null,a)};var u=p(!0),v=p(!1),w=p(null),x=p(void 0),y=p(0),z=p("");h.resolve=function(a){if(a instanceof h)return a;if(null===a)return w;if(void 0===a)return x;if(a===!0)return u;if(a===!1)return v;if(0===a)return y;if(""===a)return z;if("object"===("undefined"==typeof a?"undefined":q(a))||"function"==typeof a)try{var b=a.then;if("function"==typeof b)return new h(b.bind(a))}catch(c){return new h(function(a,b){b(c)})}return p(a)},h.all=function(a){var b=Array.prototype.slice.call(a);return new h(function(a,c){function d(f,g){if(g&&("object"===("undefined"==typeof g?"undefined":q(g))||"function"==typeof g)){if(g instanceof h&&g.then===h.prototype.then){for(;3===g._state;)g=g._value;return 1===g._state?d(f,g._value):(2===g._state&&c(g._value),void g.then(function(a){d(f,a)},c))}var i=g.then;if("function"==typeof i){var j=new h(i.bind(g));return void j.then(function(a){d(f,a)},c)}}b[f]=g,0===--e&&a(b)}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},h.reject=function(a){return new h(function(b,c){c(a)})},h.race=function(a){return new h(function(b,c){a.forEach(function(a){h.resolve(a).then(b,c)})})},h.prototype["catch"]=function(a){return this.then(null,a)}},{"./asap":1}]},{},[2]);</script><script>!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports={initPage:function(a){if(a&&a.banner_url){if(a.pic_flag===!1)return void $(".js-banner").addClass("none");$(".js-banner").removeClass("none"),a.banner_url&&$(".js-banner-pic").attr("src",a.banner_url)}}}},{}],2:[function(a,b,c){function d(){r.toggleClass("light-1"),setTimeout(function(){r.toggleClass("light-1")},500)}function e(a){s.html(a)}function f(a){a===!0?u.removeClass("none"):u.addClass("none")}function g(a){a===!0?v.removeClass("none"):v.addClass("none")}function h(a){var b=t.begin_time,c=t.end_time,h=t.status;2===h&&b>a?(e("抽奖未开始"),f(!1),g(!0)):2===h&&a>=b&&c>a?(d(),e("立即抽奖"),f(!1),g(!1)):2===h&&a>=c||4===h?(e("抽奖已结束"),f(!1),g(!0)):3===h&&(e("活动已关闭"),f(!0),g(!1))}function i(){var a=$(document);try{tb.register(x,"drawLotteryResult",l)}catch(b){console.error("register "+x+"::drawLotteryResult fail!")}try{tb.register(x,"drawLotteryRun",j)}catch(b){console.error("register "+x+"::drawLotteryRun fail!")}a.on("click",".js-do-draw",m)}function j(){q.isRunning()||q.run()}function k(){try{tb.call(x,"drawFinish",{}).then(function(a){if(a&&0===a.status&&w){w=!1;var b=p.getModule("luckyList");b&&b.updateWinner(!0)}},function(){})}catch(a){console.error("invoke "+x+"::drawFinish fail!")}}function l(a){a&&0===a.status?(w=!0,setTimeout(function(){q.luckyStop(a.award_id,k)},1e3)):a&&1===a.status?setTimeout(function(){q.luckyStop(-1,k)},1e3):setTimeout(function(){q.stop(),k()},500)}function m(){if(!q.isRunning()){window.debug&&(q.run(),setTimeout(function(){l({status:1,award_id:-1})},2e3));try{tb.call(x,"drawLottery",{}).then(function(a){a&&0===a.status&&q.run()},function(){})}catch(a){console.error("invoke "+x+"::drawLottery fail!")}}}function n(){var a=$(".js-tiger-game .column-wrap");a.eq(0).append('<div class="pic-border-wrap">                                <div class="pic-border">                                    <i class="link-node-right"></i>                                </div>                            </div>'),a.eq(1).append('<div class="pic-border-wrap">                                <div class="pic-border">                                    <i class="link-node-right"></i>                                    <i class="link-node-left"></i>                                </div>                            </div>'),a.eq(2).append('<div class="pic-border-wrap">                                <div class="pic-border">                                    <i class="link-node-left"></i>                                </div>                            </div>')}var o=a("./tiger.js"),p=a("../messageCenter.js"),q=null,r=$(".js-light-run"),s=$(".js-do-draw"),t={},u=$(".js-status-mask"),v=$(".js-button-mask"),w=!1,x=a("../nativeCmd.js");b.exports={initPage:function(a){q||(q=new o,i()),q.init(a.award_info),n(),t=a},timeLoop:function(a){h(a)},canUpdate:function(){return q&&q.isRunning()?!1:!0}}},{"../messageCenter.js":13,"../nativeCmd.js":14,"./tiger.js":3}],3:[function(a,b,c){function d(a){this.$tigerGame=$(".js-tiger-game"),this.defaultPic=a||f}a("../lib/css-animations.js");var e=2,f="http://tb1.bdstatic.com/tb/r/image/2016-03-02/a901c75260f64edf502eb0f3b69fea8d.png",g=d.prototype;g.init=function(a){var b=this,c=this.$tigerGame;this.list=this._getDecorator(a),this._toMap(),this._initDom(),this.$pic=this.$tigerGame.find(".pic-wrap"),this.offsetHeight=c.find("li").height(),this.halfOffsetHeight=(this.offsetHeight+10/64*window.rem)/2,this.len=this.list.length,this.$pic.on("webkitAnimationIteration",function(){b.stopFlag&&(b.stopFlag=!1,b.running=!1,b._fixStopKeyframe()),b.luckyStopFlag&&(b.luckyStopFlag=!1,b._luckyStop(0),b._luckyStop(1),b._luckyStop(2))}),this._createKeyframe()},g.isRunning=function(){return this.running?!0:!1},g.run=function(){this.running||(this.running=!0,this.stopFlag=!1,this.luckyStopFlag=!1,this.$pic.find(".lucky").remove(),this._keyframeLoop())},g._getDecorator=function(a){return a=a||[],a.map(function(a){return a.id=a.award_id,a.url=a.desc_pic,a})},g._createKeyframe=function(){var a=window.px2rem(this.halfOffsetHeight),b=window.px2rem(this.offsetHeight*this.len*this.x+this.halfOffsetHeight);this.anim=CSSAnimations.create({"0%":{"-webkit-transform":"translate3d(0, -"+a+"rem, 0)"},"100%":{"-webkit-transform":"translate3d(0, -"+b+"rem, 0)"}}),this.animStop=CSSAnimations.create({"0%":{"-webkit-transform":"translate3d(0, -"+a+"rem, 0)",transform:"translate3d(0, -"+a+"rem, 0)"},"100%":{"-webkit-transform":"translate3d(0, -"+a+"rem, 0)",transform:"translate3d(0, -"+a+"rem, 0)"}})},g._fixStopKeyframe=function(a){this.$pic.removeAttr("style"),this.$pic.css({"-webkit-animation-name":this.animStop.name,"-webkit-animation-duration":"1ms","-webkit-animation-timing-function":"linear","-webkit-animation-iteration-count":1})},g._keyframeLoop=function(){var a=this.len*this.x*60;a>1500&&(a=1500),this.$pic.css({"-webkit-transform":"translate3d(0, -"+window.px2rem(this.halfOffsetHeight)+"rem, 0)"}),this.$pic.css({"-webkit-animation-name":this.anim.name,"-webkit-animation-duration":a+"ms","-webkit-animation-timing-function":"linear","-webkit-animation-iteration-count":"infinite"})},g.stop=function(){this.stopFlag=!0},g.luckyStop=function(a,b){this.runEndCallback=b,this.luckyStopFlag=!0,this._luckyId=a},g._luckyStop=function(a){var b=this._luckyId,c=this.$pic.eq(a),d=c.find("li"),e=this.map[b];if(-1!==b&&e){var f=['<li class="lucky"><img class="img" src="',e.url,'"></li>'].join("");$(f).appendTo(c),d.first().clone().addClass("lucky").appendTo(c)}else d.first().clone().addClass("lucky").appendTo(this.$pic.eq(a)),d.eq(1).clone().addClass("lucky").appendTo(this.$pic.eq(a));this._luckyLoop(a)},g._toMap=function(){var a=this.list;this.map={};for(var b=0;b<a.length;b++)this.map[a[b].id]=a[b]},g._initDom=function(){for(var a=this._getRandomList(),b=[],c=[],d=[],e=0;e<a.length;e++){c.length=0,d=a[e],c.push('<div class="column-wrap"><div class="column"><ul class="pic-wrap js-pic-wrap">');for(var f=0;f<d.length;f++)c.push('<li><img class="img" src="'),c.push(d[f].url),c.push('"></li>');c.push("</ul></div></div>"),b.push(c.join(""))}this.$tigerGame.html(b.join(""))},g._getRandomList=function(){this.list;this.randomList=[];var a=null;for(i=0;i<3;i++)a=this._getColums(i),a&&this.randomList.push(a);return this.randomList},g._getColums=function(a){var b=this.list||[],c=b.length,d=[],e=[];if(0!==c){if(3>c)for(var f=c;3>f;)b.push({id:-1,url:this.defaultPic}),f++;return 0===a?(d.push(b[0]),d.push(b[2]),d.push(b[1])):1===a?(d.push(b[1]),d.push(b[0]),d.push(b[2])):2===a&&(d.push(b[2]),d.push(b[1]),d.push(b[0])),e=e.concat(d),c>3&&(d=d.concat(b.slice(3))),this.x=1,5>=c?(d=d.concat(d,d),this.x=3):c>5&&10>c?(d=d.concat(d),this.x=2):this.x=1,d.concat(e)}},g._luckyLoop=function(a){var b=this,c=window.px2rem(this.halfOffsetHeight);b.$pic.eq(a).removeAttr("style"),b.$pic.eq(a).css({"-webkit-transform":"translate3d(0, -"+c+"rem, 0)"}).animate({translate3d:"0, -"+window.px2rem(b.offsetHeight*(this.len*this.x+e)+b.halfOffsetHeight)+"rem,0"},b._getDuringTime(a),"ease-out",function(){2===a&&(b.running=!1,b.runEndCallback&&"function"==typeof b.runEndCallback&&b.runEndCallback())})},g._getDuringTime=function(a){var b=this.len*this.x+e,c=[117.6*b,176.5*b,235.2*b];return c[2]>4e3&&(c[0]=2e3,c[1]=3e3,c[2]=4e3),c[a]},b.exports=d},{"../lib/css-animations.js":9}],4:[function(a,b,c){function d(a){a&&0===a.status&&k(a.data)}function e(){try{tb.register(l,"getInitPageData",d)}catch(a){console.error("register "+l+"::getInitPageData fail!")}try{tb.register(l,"notifyUpdate",f)}catch(a){console.error("register "+l+"::notifyUpdate fail!")}}function f(){s=!0}function g(a){return a.begin_time=1e3*a.begin_time,a.end_time=1e3*a.end_time,1===a.status?a.status=2:2===a.status?a.status=4:3===a.status&&(a.status=3),a}function h(a){a=g(a),m.initPage(a),n.initPage(a),p.initPage(a),o.initPage(a),q.initPage(a),r.updateAllStyle(a)}function i(){try{tb.call(l,"getInitPageData",{}).then(function(a){h(a)},function(){})}catch(a){console.error("invoke "+l+"::getInitPageData update fail!")}}function j(){t.removeClass("hidden")}function k(a){h(a),j();var b=+new Date;!function d(){n.timeLoop(b),p.timeLoop(b),o.timeLoop(b),s&&o.canUpdate()&&(i(),s=!1),b+=1e3,3!=a.status&&setTimeout(d,1e3)}();try{tb.call(l,"pageFinish",{height:t.height(),width:t.width()})}catch(c){console.error("invoke "+l+"::pageFinish fail!")}}a("./lib/fix.js"),a("./lib/track.js");var l=a("./nativeCmd.js"),m=a("./banner/index.js"),n=a("./info/index.js"),o=a("./drawLottery/index.js"),p=a("./luckyList/index.js"),q=a("./ruleAndDesc/index.js"),r=a("./style.js"),s=!1,t=$(".js-container");!function(){try{tb.ready().then(function(){e()},function(a){console.error("tb ready fail!")})}catch(a){console.error("tb ready fail!")}window.debug&&k(data)}()},{"./banner/index.js":1,"./drawLottery/index.js":2,"./info/index.js":6,"./lib/fix.js":10,"./lib/track.js":11,"./luckyList/index.js":12,"./nativeCmd.js":14,"./ruleAndDesc/index.js":15,"./style.js":16}],5:[function(a,b,c){function d(a){this.$numSection=$(".js-num-section"),this.update(a)}var e=a("./util.js"),f=d.prototype;f.refresh=function(a){this._updateSubTime(a),this._updateDom()},f.update=function(a){this.beginTime=a},f._updateSubTime=function(a){a=new Date,this._time=this.beginTime||+new Date("2056/1/21"),this._subTime=this._time-a},f._updateDom=function(){var a=e.formatSubTime(this._subTime);a.D>99&&(a.D=99);var b='<div class="count-down-box-wrap">                    <span class="num-box count-down-box">                        <span class="count-down-num">#{{D}}</span>                    </span>                    <span class="unit">天</span>                    <span class="num-box count-down-box">                        <span class="count-down-num">#{{H}}</span>                    </span>                    <span class="unit">时</span>                    <span class="num-box count-down-box">                        <span class="count-down-num">#{{M}}</span>                    </span>                    <span class="unit">分</span>                    <span class="num-box count-down-box">                        <span class="count-down-num">#{{S}}</span>                    </span>                    <span class="unit">秒</span>                </div>',c=b.replace(/#\{\{([^{}]+)\}\}/gim,function(b,c){return a[c]});this.$numSection.html(c)},b.exports=d},{"./util.js":8}],6:[function(a,b,c){function d(a){this._initData(a),this.$timeSection=$(".js-time-section"),this.$numTitle=$(".js-num-title"),this.countDown=new e(this.beginTime),this.playNum=new f(a),this._initTimeSection(),this._initNumContent(),this.loopSeconds=0}var e=a("./countDown.js"),f=a("./playNum.js"),g=a("./util.js"),h=null,i=d.prototype;i.update=function(a){this._initData(a),this.countDown.update(this.beginTime),this.playNum.update(a)},i._initData=function(a){this.status=a.status,this.beginTime=a.begin_time,this.endTime=a.end_time,this.playCount=a.play_count,this.showTotalNum=a.show_total_num,this.totalNum=a.total_num};var j="";i._initTimeSection=function(a){var b=this.beginTime,c=this.endTime,d=this.status;a=a||+new Date;var e="";2===d?e=a>c?"活动已结束":["活动时间：",g.formatYMD(b),"-",g.formatYMD(c)].join(""):4===d?e="活动已结束":3===d&&(e="抱歉，由于特殊原因活动已被关闭"),e!=j&&(j=e,this.$timeSection.html(e))};var k="";i._initNumContent=function(a){var b=this.status,c=this.beginTime,d=(this.endTime,this.totalNum,this.showTotalNum,"");a=a||+new Date,2===b&&c>a?(this.countDown.refresh(a),d="距活动开始时间"):(2===b&&a>=c||3===b||4===b)&&(this.playNum.refresh(a),d="参与人数"),k!=d&&(k=d,this.$numTitle.html(d))},i._timeLoop=function(a){this._initTimeSection(a),this._initNumContent(a)},b.exports={initPage:function(a){h&&h.update(a),h=new d(a)},timeLoop:function(a){h&&h._timeLoop(a)}}},{"./countDown.js":5,"./playNum.js":7,"./util.js":8}],7:[function(a,b,c){function d(a){this.$numSection=$(".js-num-section"),this.update(a)}var e=a("./util.js"),f=.78125,g=d.prototype;g.update=function(a){this.status=a.status,this.beginTime=a.begin_time,this.endTime=a.end_time,this.playCount=a.play_count,this.showTotalNum=a.show_total_num,this.totalNum=a.total_num,this.doingSeconds=-1,this.subTotalNum=this.totalNum-this.showTotalNum},g.refresh=function(a){this.nowTime=a||+new Date;var b=this;if(2===this.status){if(this.nowTime<this.beginTime)return;return this.nowTime>=this.beginTime&&this.nowTime<this.endTime?(-1===this.doingSeconds&&(this._initGroup(this.showTotalNum),this.doingSeconds=0),this.doingSeconds++,void(10===this.doingSeconds&&(b._updateDom(),this.doingSeconds=0))):void(this.nowTime>=this.endTime&&this._initGroup(this.totalNum))}return 4===this.status?void this._initGroup(this.totalNum):void(3===this.status&&this._initGroup(0))},g._updateDom=function(){var a=e.randomNum(this.showTotalNum,this.totalNum);this.totalNum-a<=.1*this.subTotalNum&&(a=this.totalNum),a>this.showTotalNum&&(this._updateGroup(a),this.showTotalNum=a)},g._updateGroup=function(a){var b=this._getNumStrByGroup(this.curIntNum),c=this._getNumStrByGroup(a),d=this._getStartNumStrByGroup(b,c);this._updateGroupDom(d),this._slideTo(c,d),this.curIntNum=a},g._initGroup=function(a){this.curIntNum=a;var b=this._getNumStrByGroup(a);this._updateGroupDom(b)},g._getStartNumStrByGroup=function(a,b){for(var c=b.length-a.length;c>0;)a="0"+a,c--;return a},g._getNumStrByGroup=function(a){return 0>a?"000":a>=0&&999>=a?(a+1e3).toString().substr(1):a>=1e3&&999999>=a?(a+1e6).toString().substr(1):a>=1e6&&999999999>=a?(a+1e9).toString().substr(1):"999999999"},g._updateGroupDom=function(a){for(var b=['<div class="num-box-wrap js-play-num">'],c=0,d=0;d<a.length;d++)0===c&&b.push('<div class="num-box-group">'),b.push('<span class="num-box"><span class="num"><i>'),b.push(a[d]),b.push("</i></span></span>"),2===c?(b.push("</div>"),c=0):c++;b.push("</div>"),this.$numSection.html(b.join("")),this.$num=this.$numSection.find(".js-play-num .num")},g._slideTo=function(a,b){for(var c=0,d=a.length;d>c;c++)this._itemSlide(c,+b[c],+a[c])},g._itemSlide=function(a,b,c){var d=c,e=[];if(c>b){e=[];for(var g=b+1;c>=g;g++)e.push("<i>"+g+"</i>")}else{if(!(b>c))return;e=[];for(var g=b+1;9>=g;g++)e.push("<i>"+g+"</i>");for(var g=0;c>=g;g++)e.push("<i>"+g+"</i>")}this.$num.eq(a).append(e.join(""));var h=d-b>0?d-b:10-(b-d);this.$num.eq(a).animate({translate3d:"0,-"+h*Math.floor(window.rem2px(f))+"px,0"},1500,"ease-out")},b.exports=d},{"./util.js":8}],8:[function(a,b,c){b.exports={formatYMD:function(a){if(!a)return"";var b=[];return a=new Date(a),b.push(a.getFullYear()),b.push("年"),b.push(a.getMonth()+1),b.push("月"),b.push(a.getDate()),b.push("日"),b.join("")},formatSubTime:function(a){function b(){return Math.floor(a/f)}function c(){return Math.floor((a-b()*f)/g)}function d(){return Math.floor((a-b()*f-c()*g)/h)}function e(){return Math.floor((a-b()*f-c()*g-d()*h)/i)}a=a||0;var f=864e5,g=36e5,h=6e4,i=1e3;return{D:b(),H:c(),M:d(),S:e()}},randomNum:function(a,b){var c=b-a;c=parseInt(c*Math.random());var d=a+parseInt(Math.random()*c,10);return d===a&&a!==b?d+1:d}}},{}],9:[function(a,b,c){!function(){function a(b,c){for(var d=b.cssRules||b.rules||[],e=0;e<d.length;e++){var f=d[e];f.type==CSSRule.IMPORT_RULE?a(f.styleSheet,c):(f.type===CSSRule.KEYFRAMES_RULE||f.type===CSSRule.MOZ_KEYFRAMES_RULE||f.type===CSSRule.WEBKIT_KEYFRAMES_RULE)&&c(f,b,e)}}function b(a){this.original=a,this.keyText=a.keyText,this.css={};for(var b=a.style.cssText.split(";"),c=0;c<b.length;c++){var d=b[c].split(":");if(2==d.length){var e=d[0].replace(/^\s+|\s+$/g,""),f=d[1].replace(/^\s+|\s+$/g,"");this.css[e]=f}}}function c(a){this.original=a,this.name=a.name,this.keyframes=[],this.keytexts=[],this.keyframeHash={},this.initKeyframes()}function d(){this.animations={};for(var b=document.styleSheets,d=this.animations,e=0;e<b.length;e++)try{a(b[e],function(a){d[a.name]=new c(a)})}catch(f){}}c.prototype.initKeyframes=function(){this.keyframes=[],this.keytexts=[],this.keyframeHash={};for(var a=this.original,c=0;c<a.cssRules.length;c++){var d=new b(a.cssRules[c]);this.keyframes.push(d),this.keytexts.push(d.keyText),this.keyframeHash[d.keyText]=d}},c.prototype.getKeyframeTexts=function(){return this.keytexts},c.prototype.getKeyframe=function(a){return this.keyframeHash[a]},c.prototype.setKeyframe=function(a,b){var c=a+" {";for(var d in b)c+=d+":"+b[d]+";";return c+="}","appendRule"in this.original?this.original.appendRule(c):this.original.insertRule(c),this.initKeyframes(),this},c.prototype.setKeyframes=function(a){for(var b in a)this.setKeyframe(b,a[b])},c.prototype.clear=function(){for(var a=0;a<this.keyframes.length;a++)this.original.deleteRule(this.keyframes[a].keyText)},d.prototype.get=function(a){return this.animations[a]},d.prototype.getDynamicSheet=function(){if(!this.dynamicSheet){var a=document.createElement("style");a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a),this.dynamicSheet=a.sheet}return this.dynamicSheet},d.prototype.create=function(a,b){var d=this.getDynamicSheet();"object"==typeof a&&(b=a,a=null),a||(a="anim"+Math.floor(1e5*Math.random()));try{var e=d.insertRule("@keyframes "+a+"{}",d.cssRules.length)}catch(f){if("SYNTAX_ERR"!=f.name&&"SyntaxError"!=f.name)throw f;e=d.insertRule("@-webkit-keyframes "+a+"{}",d.cssRules.length)}var g=new c(d.cssRules[e]);return this.animations[a]=g,b&&g.setKeyframes(b),g},d.prototype.remove=function(b){var d=this.getDynamicSheet();b=b instanceof c?b.name:b,this.animations[b]=null;try{a(d,function(a,c,d){a.name==b&&c.deleteRule(d)})}catch(e){}},"function"==typeof define&&define.amd?define(function(){return new d}):window.CSSAnimations=new d}()},{}],10:[function(a,b,c){!function(a,c){function d(a){return a.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function e(a){return f?f+a:a.toLowerCase()}var f,g,h,i,j,k,l,m,n,o,p="",q={Webkit:"webkit",Moz:"",O:"o"},r=document.createElement("div"),s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,t={};a.each(q,function(a,b){return r.style[a+"TransitionProperty"]!==c?(p="-"+a.toLowerCase()+"-",f=b,!1):void 0}),g=p+"transform",t[h=p+"transition-property"]=t[i=p+"transition-duration"]=t[k=p+"transition-delay"]=t[j=p+"transition-timing-function"]=t[l=p+"animation-name"]=t[m=p+"animation-duration"]=t[o=p+"animation-delay"]=t[n=p+"animation-timing-function"]="",a.fx={off:f===c&&r.style.transitionProperty===c,speeds:{_default:400,fast:200,slow:600},cssPrefix:p,transitionEnd:e("TransitionEnd"),animationEnd:e("AnimationEnd")},a.fn.animate=function(b,d,e,f,g){return a.isFunction(d)&&(f=d,e=c,d=c),a.isFunction(e)&&(f=e,e=c),a.isPlainObject(d)&&(e=d.easing,f=d.complete,g=d.delay,d=d.duration),d&&(d=("number"==typeof d?d:a.fx.speeds[d]||a.fx.speeds._default)/1e3),g&&(g=parseFloat(g)/1e3),this.anim(b,d,e,f,g)},a.fn.anim=function(b,e,f,p,q){var r,u,v,w={},x="",y=this,z=a.fx.transitionEnd,A=!1;if(e===c&&(e=a.fx.speeds._default/1e3),q===c&&(q=0),a.fx.off&&(e=0),"string"==typeof b)w[l]=b,w[m]=e+"s",w[o]=q+"s",w[n]=f||"linear",z=a.fx.animationEnd;else{u=[];for(r in b)s.test(r)?x+=r+"("+b[r]+") ":(w[r]=b[r],u.push(d(r)));x&&(w[g]=x,u.push(g)),e>0&&"object"==typeof b&&(w[h]=u.join(", "),w[i]=e+"s",w[k]=q+"s",w[j]=f||"linear")}return v=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(z,v)}else a(this).unbind(z,v);A=!0,a(this).css(t),p&&p.call(this)},e>0&&(this.bind(z,v),setTimeout(function(){A||v.call(y)},1e3*(e+q)+25)),this.size()&&this.get(0).clientLeft,this.css(w),0>=e&&setTimeout(function(){y.each(function(){v.call(this)})},0),this},r=null,b.exports=a}(Zepto)},{}],11:[function(a,b,c){!function(a,b){var c=function(){var b={};return{data:function(c){a.extend(b,c)},send:function(c,d){c=a.extend({},b,c);var e=new Image,f="http://static.tieba.baidu.com/tb/img/track.gif?",g=["client_type=wap_smart","url="+encodeURIComponent(document.location.href),"refer="+encodeURIComponent(document.referrer),"uname="+(c.uname&&encodeURIComponent(c.uname)||""),"task="+(c.task&&encodeURIComponent(c.task)||""),"page="+(c.page&&encodeURIComponent(c.page)||""),"locate="+(c.locate&&encodeURIComponent(c.locate)||""),"type="+(c.type&&encodeURIComponent(c.type)||"click"),"fname="+(c.fname&&encodeURIComponent(c.fname)||""),"fid="+(c.fid&&encodeURIComponent(c.fid)||""),"tid="+(c.tid&&encodeURIComponent(c.tid)||""),"pid="+(c.pid&&encodeURIComponent(c.pid)||""),"obj_id="+(c.obj_id&&encodeURIComponent(c.obj_id)||""),"obj_name="+(c.obj_name&&encodeURIComponent(c.obj_name)||""),"_t="+1e3*new Date];f+=g.join("&"),e.src=f,e=null}}}();a.track=c.send,a.track.data=c.data}(Zepto)},{}],12:[function(a,b,c){function d(a){this.$positionUp=$(".js-lucky-list-position-up"),this.$positionDown=$(".js-lucky-list-position-down"),this.$mLuckyList=$(".js-m-lucky-list"),this.$luckyList=$(".js-lucky-list"),this.$winner=$(".js-btn-winner"),this._init(a),this._bindEvent()}var e=a("../messageCenter.js"),f=a("../nativeCmd.js"),g=d.prototype;g.update=function(a){this.timer&&(clearTimeout(this.timer),this.timer=null),this._init(a)},g.updateIsWinner=function(a){a?this.$winner.removeClass("none"):this.$winner.addClass("none")},g.timeLoop=function(a){this._changePosition(a)},g._bindEvent=function(){var a=$(document),b=this;a.on("click",".js-btn-winner",function(){try{tb.toNativePage(b.my_award_list_url)}catch(a){console.error("invoke "+f+"::toAwardListPage fail!")}}),a.on("click",".js-user-name",function(){var a=$(this),c=a.data("user-id"),d=$.trim(a.html());try{tb.TBHY_COMMON_Navigator.toPersonPage({uid:c,uname:d})}catch(e){console.error("invoke "+f+":toPersonPage fail!")}$.track({task:"高级版抽奖贴个人中心点击量",page:"pb",locate:"中奖名单",type:"click",client_type:"wap_smart",uid:b._data.uid||"",uname:b._data.uanme||"",fid:b._data.fid||"",fname:b._data.fname||"",tid:b._data.tid||"",pid:b._data.pid||"",baiduid:b._data.baiduid||"",obj_id:c,obj_name:d})}),$(window).on("resize",function(){var a=b.$luckyList.find(".js-slide-wrap").height();a>0&&(b.stepOffset=-a)})},g._changePosition=function(a){var b=this.startTime,c=this.status;2===c&&b>a||3===c?this.$positionUp.find(".js-m-lucky-list").length>0&&this.$positionDown.html(this.$mLuckyList):(2===c&&a>=b||4===c)&&this.$positionDown.find(".js-m-lucky-list").length>0&&this.$positionUp.html(this.$mLuckyList)},g._init=function(a){if(this._data=a,this.startTime=a.begin_time,this.status=a.status,this.list=a.lucky_list||[],this.curStep=1,this.my_award_list_url=a.my_award_list_url||"",0===this.list.length)this.$luckyList.html('<p class="txt-none">暂无中奖用户</p>');else if(this.list.length>0){var b=this._getFragment();this.$luckyList.html(b),this.list.length>3&&(this.stepOffset=-this.$luckyList.find(".js-slide-wrap").height(),this.$luckySlide=this.$luckyList.find(".js-lucky-slide"),setTimeout($.proxy(this._sliderRun,this),3e3))}this.updateIsWinner(this.my_award_list_url?!0:!1)},g._getDecorator=function(a){function b(a){if(a=Number(a)||-1,-1===a)return"";var b=new Date-1e3*a,c=parseInt(b/1e3,10);if(c>=0&&60>c)return c+"秒前";var d=parseInt(b/6e4,10);if(d>0&&60>d)return d+"分钟前";var e=parseInt(b/36e5,10);if(e>0&&24>e)return e+"小时前";var f=parseInt(b/864e5,10);if(f>0&&365>f)return f+"天前";var g=parseInt(b/31536e6,10);return g>0?g+"年前":void 0}return a.map(function(a){return a.create_time_str=b(a.create_time),String(a.user_name).length>6&&(a.user_name=String(a.user_name).substring(0,6)+"..."),String(a.award_name).length>5&&(a.award_name=String(a.award_name).substring(0,5)+"..."),a})},g._getFragment=function(){var a=this.list;a=this._getDecorator(a||[]);for(var b=['<div class="slide-wrap js-slide-wrap">        <ul class="slide js-lucky-slide">'],c='<li class="item">                    <span class="txt-wrap">                        <a href="javascript:void(0);" class="user-name js-user-name" data-user-id="#{{user_id}}">#{{user_name}}</a>获得<span class="goods-name">#{{award_name}}</span>一个                    </span>                    <span class="date">#{{create_time_str}}</span>                </li>',d=0,e=0;e<a.length;e++)0===d&&b.push('<li class="group js-group">                        <ul class="list">'),b.push(c.replace(/#\{\{([^{}]+)\}\}/gim,function(b,c){return a[e][c]})),2===d?(b.push("</ul></li>"),d=0):d++;0!==d&&b.push("</ul></li>"),b.push("</ul></div>");var f=$(b.join(""));return this.list.length>3&&f.find(".js-group").eq(0).clone().appendTo(f.find(".js-lucky-slide")),f},g._sliderRun=function(){var a=this;this.$luckySlide.animate({translate3d:"0,"+window.px2rem(this.stepOffset*this.curStep)+"rem,0"},1e3,"ease-out",function(){a.curStep===Math.ceil(a.list.length/3)?(a.curStep=1,a.$luckySlide.css({transform:"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)"})):a.curStep++,a.timer=setTimeout(function(){a._sliderRun()},3e3)})};var h=null;b.exports={initPage:function(a){return h?void h.update(a):(h=new d(a),void e.setModule("luckyList",h))},updateWinner:function(a){h&&h.updateIsWinner(a)},timeLoop:function(a){h&&h.timeLoop(a)}}},{"../messageCenter.js":13,"../nativeCmd.js":14}],13:[function(a,b,c){var d={};b.exports={setModule:function(a,b){d[a]=b},getModule:function(a){return d[a]}}},{}],14:[function(a,b,c){b.exports="TBHY_EXT_SeniorLotteryPB"},{}],15:[function(a,b,c){function d(a){f.html(a||"")}function e(a){a=a||[];for(var b=[],c=null,d="",e="",f=[],h=-1,i=0;i<a.length;i++)c=a[i],e=c.regular||"",f=c.chance||[],h=0,d='<div class="rule-row">'+e.replace(/#\{\{([^{}]*)\}\}/gim,function(a,b){return"<span>"+f[h++]+"</span>"})+"</div>",b.push(d);g.html(b.join(""))}var f=$(".js-desc"),g=$(".js-rule");b.exports={initPage:function(a){d(a.activity_desc),e(a.activity_rule)}}},{}],16:[function(a,b,c){function d(a){var b=/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/,c=a.toLowerCase();if(c&&b.test(c)){if(4===c.length){for(var d="#",e=1;4>e;e+=1)d+=c.slice(e,e+1).concat(c.slice(e,e+1));c=d}for(var f=[],e=1;7>e;e+=2)f.push(parseInt("0x"+c.slice(e,e+2)));return f.join(",")}return c}var e=$(".js-all-style");b.exports={updateAllStyle:function(a){var b=a.color_theme,c=["<style>",".m-info .num-box,",".m-draw-lottery .lottery-pane .footer button,",".m-opacity-panel .title","{background: #"+b[0]+"}",".m-opacity-panel .title-box:before, .m-opacity-panel .decorate-left {border-bottom-color: #"+b[0]+"}",".m-opacity-panel .title-box:after, .m-opacity-panel .decorate-right {border-top-color: #"+b[0]+"}","{color: #"+b[0]+"}","body {background: #"+b[1]+"}",".m-info .num-box:before {border-color: transparent transparent transparent #"+b[1]+";}",".m-info .num-box:after {border-color: transparent #"+b[1]+" transparent transparent;}",".m-draw-lottery .lottery-pane .footer button:{-webkit-tap-highlight-color:rgba("+d("#"+b[1])+",0)}",".m-banner .filter {background-image: -webkit-linear-gradient(90deg, #"+b[1]+" 0%, rgba(255, 255, 255, 0) 100%);}",".m-draw-lottery .lottery-pane {box-shadow: 0 0.15625rem 0 rgba("+d("#"+b[2])+", .1)}",".m-draw-lottery .lottery-pane .lottery-inner-pane{background: rgba("+d("#"+b[2])+", .3)}",".m-info .txt-bg,",".m-opacity-panel .inner-wrap,",".m-draw-lottery .lottery-pane .head-spec {background: rgba("+d("#"+b[2])+", .15)}",".m-draw-lottery .lottery-pane .lottery-inner-pane .pic-border{border: 2px solid #"+b[3]+";}",".m-draw-lottery .lottery-pane .lottery-inner-pane .link-node-left,",".m-draw-lottery .lottery-pane .lottery-inner-pane .link-node-right,",".m-draw-lottery .lottery-pane {background: #"+b[3]+"}",".m-draw-lottery .lottery-pane .lottery-inner-pane:after{border-right-color: #"+b[3]+";}",".m-draw-lottery .lottery-pane .lottery-inner-pane:before{border-left-color: #"+b[3]+";}",".m-status-mask {background: rgba("+d("#"+b[3])+", .6)}",".m-draw-lottery .lottery-pane .footer .button-mask {background: rgba("+d("#"+b[3])+", .6)}",".m-info .txt-bg,",".m-info .num i,",".m-draw-lottery .lottery-pane .footer button,",".m-opacity-panel .title,",".m-lucky-list .list .txt-wrap,",".m-desc p,",".m-rule .rule-wrap,","p.txt-none,",".m-info .count-down-num,",".m-info .unit,",".m-draw-lottery .lottery-pane .footer button,",".m-lucky-list .list .date {color: #"+b[4]+"}",".m-rule span,",".m-lucky-list .my-awards-wrap .txt,",".m-lucky-list .my-awards-wrap .icon:before,",".m-lucky-list .list .user-name, .m-lucky-list .list .goods-name","{color: #"+b[5]+"}","</style>"];e.html(c.join(""))}}},{}]},{},[4]);</script></body></html>
